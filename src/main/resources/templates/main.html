<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>

</head>
<body>

<div class="wrapper">
    <div class="wrap">
        <div class="top_gnb_area">
            <ul class="list">
                <th:block th:if="${session.member == null}">
                <li>
                    <a th:href="@{/member/login}">로그인</a>
                </li>
                <li>
                    <a th:href="@{/member/join}">회원가입</a>
                </li>
                </th:block>
                <th:block th:unless="${session.member == null}">
                <li th:if="${session.member.getAdminCk() == 1}">
                    <a th:href="@{/admin/main}">관리자 페이지</a>
                </li>
                <li>
                    <a id="gnb_logout_button">로그아웃</a>
                </li>
                <li>
                    마이룸
                </li>
                <li>
                    장바구니
                </li>
                </th:block>
                <li>
                    고객센터
                </li>
            </ul>
        </div>

        <div class="top_area">
            <div class="logo_area">
                <a th:href="@{/main}"><img th:src="@{/img/Logo.png}"></a>
            </div>
            <div class="search_area">
                <h1>Search area</h1>
            </div>
            <div class="login_area">
                <!-- 로그인 상태가 아닐 경우 -->
                <th:block th:if="${session.member == null}">
                <div class="login_button"><a th:href="@{/member/login}">로그인</a></div>
                <span><a href="/member/join">회원가입</a></span>
                </th:block>
                <!-- 로그인 상태일 경우-->
                <th:block th:unless="${session.member == null}">
                <div class="login_success_area">
                    <span>회원 : <span th:text="${session.member.getMemberId()}"></span></span>
                    <span>충전 금액: <span th:text="${#numbers.formatInteger(session.member.getMoney(), 0, 'COMMA')}"></span></span>
                    <span>포인트 : <span th:text="${#numbers.formatInteger(session.member.getPoint(), 0, 'COMMA')}"></span></span>
                    <a th:href="@{/member/logout.do}">로그아웃</a>
                </div>
                </th:block>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="navi_bar_area">
            <h1>navi area</h1>
        </div>
        <div class="content_area">
            <h1>content area</h1>
        </div>

        <!-- Footer 영역 -->
        <div class="footer_nav">
            <div class="footer_nav_container">
                <ul>
                    <li>회사소개</li>
                    <span class="line">|</span>
                    <li>이용약관</li>
                    <span class="line">|</span>
                    <li>고객센터</li>
                    <span class="line">|</span>
                    <li>광고문의</li>
                    <span class="line">|</span>
                    <li>채용정보</li>
                    <span class="line">|</span>
                </ul>
            </div>
        </div> <!-- class="footer_nav" -->

        <div class="footer">
            <div class="footer_container">

                <div class="footer_left">
                    <img th:src="@{/img/Logo.png}">
                </div>
                <div class="footer_right">
                    (주) VamBook    대표이사 : OOO
                    <br>
                    사업자등록번호 : ooo-oo-ooooo
                    <br>
                    대표전화 : oooo-oooo(발신자 부담전화)
                    <br>
                    <br>
                    COPYRIGHT(C) <strong>kimvampa.tistory.com</strong>    ALL RIGHTS RESERVED.
                </div>
                <div class="clearfix"></div>
            </div>
        </div> <!-- class="footer" -->

    </div>
</div>

<script>

    /* gnb_area 로그아웃 버튼 작동 */
    $("#gnb_logout_button").click(function () {
        $.ajax({
            type: "POST",
            url: "/member/logout.do",
            success: function (data) {
                // alert("로그아웃 성공");
                document.location.reload();
            }
        });
    });
</script>

</body>
</html>